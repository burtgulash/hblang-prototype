visit is {($$x sametype ()) then (): [k shift [($$x !L) : ($$x !R !self !k)]]}| reverse is {.reset [$$x !visit]}
