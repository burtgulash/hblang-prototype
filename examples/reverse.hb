visit is {($$x tt_eq 0) then [$$x]: [$$x !L as a|$$x !R as rest P.|k shift [($$a) . ($$rest !self !k)]]}| reverse is {.reset [$$x !visit]}
